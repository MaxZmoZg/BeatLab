@model BeatLab.Models.Entities.Alboms

@{
    ViewBag.Title = "Редактирование альбома";
}
<br />
<h2>Редактирование альбома</h2>

@using (Html.BeginForm(Html.BeginForm(Html.BeginForm("Edit", "Alboms", FormMethod.Post, new { enctype = "multipart/form-data" }))))
{
    @Html.AntiForgeryToken()

    
<div class="form-horizontal">
    @Html.HiddenFor(model => model.ID_User)
    @Html.HiddenFor(model => model.Image_Album)
    <h4>Alboms</h4>
    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.ID_Album)

<div class="form-group">
    <label for="name-4c18" class="control-label col-md-2">Пользователь</label>
    <div class="col-md-10">
        @Html.DropDownList("ID_User", null, htmlAttributes: new { @class = "form-control" })
        @Html.ValidationMessageFor(model => model.ID_User, "", new { @class = "text-danger" })
    </div>
</div>

    <div class="form-group">
        <label for="name-4c18" class="control-label col-md-2">Название альбома</label>
        <div class="col-md-10">
            @Html.EditorFor(model => model.Name_Album, new { htmlAttributes = new { @class = "form-control" } })
            @Html.ValidationMessageFor(model => model.Name_Album, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <label for="name-4c18" class="control-label col-md-2">Фото</label>
        <div class="form-group editCard--margin">

            <div class="col-md-10 editCard_DivImage--margin">


                @{ if (Model.Image_Album == null)
                    {
                        <img id='previewImage' style='width:130px; height:120px;' src="~/Resource/user.png" />
                    }
                    else
                    {
                        @Html.Raw("<img id='previewImage' style='width:130px; height:120px;' src=\"data:image/jpeg;base64,"
                                                + Convert.ToBase64String(Model.Image_Album) + "\" />")
                        @Html.ValidationMessageFor(model => model.Image_Album, "", new { @class = "text-danger" })
                    }
                }


            </div>
            <div class="editCard--margin">
                <input id="imageInput" type="file" name="uploadImage" />
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="name-4c18" class="control-label col-md-2">Тип альбома</label>
        <div class="col-md-10">
            @Html.DropDownList("ID_Type_Alboms", null, htmlAttributes: new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.ID_Type_Alboms, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" value="Сохранить" class="btn btn-default" />
        </div>
    </div>
</div>
}


